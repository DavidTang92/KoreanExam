<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TOPIK Practice éŸ“æª¢ç·´ç¿’</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;700&family=Noto+Sans+TC:wght@300;400;700&family=DM+Serif+Display&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0d0d14;
    --surface: #16161f;
    --card: #1e1e2e;
    --border: #2e2e44;
    --accent: #c9a84c;
    --accent2: #e8c97a;
    --text: #e8e8f0;
    --text-muted: #8888aa;
    --correct: #4caf7d;
    --wrong: #e05c5c;
    --korean: #a0c4ff;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Noto Sans TC', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Background decoration */
  body::before {
    content: 'í•œ';
    position: fixed;
    top: -80px;
    right: -60px;
    font-family: 'Noto Serif KR', serif;
    font-size: 400px;
    color: rgba(201,168,76,0.04);
    pointer-events: none;
    z-index: 0;
  }

  body::after {
    content: 'êµ­';
    position: fixed;
    bottom: -80px;
    left: -60px;
    font-family: 'Noto Serif KR', serif;
    font-size: 400px;
    color: rgba(160,196,255,0.04);
    pointer-events: none;
    z-index: 0;
  }

  .container {
    max-width: 860px;
    margin: 0 auto;
    padding: 40px 24px;
    position: relative;
    z-index: 1;
  }

  /* Header */
  .header {
    text-align: center;
    margin-bottom: 48px;
    animation: fadeDown 0.6s ease;
  }

  .header-badge {
    display: inline-block;
    font-size: 11px;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--accent);
    border: 1px solid var(--accent);
    padding: 4px 16px;
    margin-bottom: 16px;
    border-radius: 2px;
  }

  .header h1 {
    font-family: 'DM Serif Display', serif;
    font-size: clamp(36px, 6vw, 60px);
    color: var(--text);
    line-height: 1.1;
    letter-spacing: -1px;
  }

  .header h1 span {
    color: var(--accent);
  }

  .header-sub {
    font-family: 'Noto Serif KR', serif;
    font-size: 18px;
    color: var(--text-muted);
    margin-top: 8px;
    letter-spacing: 4px;
  }

  /* Setup Panel */
  #setup-panel {
    animation: fadeUp 0.5s ease;
  }

  .setup-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    margin-bottom: 32px;
  }

  @media (max-width: 600px) {
    .setup-grid { grid-template-columns: 1fr; }
  }

  .setup-section {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
  }

  .setup-section h3 {
    font-size: 11px;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--accent);
    margin-bottom: 16px;
  }

  .setup-section p.en {
    font-size: 10px;
    color: var(--text-muted);
    margin-top: -12px;
    margin-bottom: 16px;
    letter-spacing: 1px;
  }

  .checkbox-group {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .check-item {
    display: flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    padding: 10px 14px;
    border-radius: 8px;
    border: 1px solid transparent;
    transition: all 0.2s;
  }

  .check-item:hover {
    background: rgba(201,168,76,0.06);
    border-color: rgba(201,168,76,0.2);
  }

  .check-item input[type="checkbox"] {
    display: none;
  }

  .checkmark {
    width: 20px;
    height: 20px;
    border: 2px solid var(--border);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: all 0.2s;
  }

  .check-item input:checked + .checkmark {
    background: var(--accent);
    border-color: var(--accent);
  }

  .check-item input:checked + .checkmark::after {
    content: 'âœ“';
    color: #000;
    font-size: 12px;
    font-weight: bold;
  }

  .check-label {
    flex: 1;
  }

  .check-label .zh { font-size: 14px; }
  .check-label .en { font-size: 11px; color: var(--text-muted); }

  .level-badge {
    font-size: 10px;
    padding: 2px 8px;
    border-radius: 20px;
    font-weight: bold;
  }

  .level-1 { background: rgba(76, 175, 125, 0.15); color: #4caf7d; }
  .level-2 { background: rgba(201, 168, 76, 0.15); color: var(--accent); }
  .level-3 { background: rgba(224, 92, 92, 0.15); color: var(--wrong); }

  /* Count control */
  .count-control {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-top: 8px;
  }

  .count-control button {
    width: 36px;
    height: 36px;
    background: var(--border);
    border: none;
    border-radius: 8px;
    color: var(--text);
    font-size: 18px;
    cursor: pointer;
    transition: background 0.2s;
  }

  .count-control button:hover { background: var(--accent); color: #000; }

  .count-display {
    font-size: 28px;
    font-family: 'DM Serif Display', serif;
    color: var(--accent);
    min-width: 40px;
    text-align: center;
  }

  /* Start Button */
  .start-btn {
    width: 100%;
    padding: 18px;
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    border: none;
    border-radius: 12px;
    color: #000;
    font-size: 16px;
    font-weight: 700;
    font-family: 'Noto Sans TC', sans-serif;
    cursor: pointer;
    transition: all 0.2s;
    letter-spacing: 2px;
  }

  .start-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(201,168,76,0.3);
  }

  .start-btn:active { transform: translateY(0); }

  /* Quiz Panel */
  #quiz-panel {
    display: none;
    animation: fadeUp 0.5s ease;
  }

  .quiz-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 28px;
    flex-wrap: wrap;
    gap: 12px;
  }

  .progress-info {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .q-counter {
    font-family: 'DM Serif Display', serif;
    font-size: 28px;
    color: var(--accent);
  }

  .q-counter span { font-size: 14px; color: var(--text-muted); }

  .score-display {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 8px 16px;
    font-size: 13px;
    color: var(--text-muted);
  }

  .score-display b { color: var(--correct); }

  .progress-bar-wrap {
    width: 100%;
    height: 4px;
    background: var(--border);
    border-radius: 2px;
    margin-bottom: 32px;
    overflow: hidden;
  }

  .progress-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--accent), var(--accent2));
    border-radius: 2px;
    transition: width 0.4s ease;
  }

  /* Question Card */
  .question-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 32px;
    margin-bottom: 20px;
  }

  .q-meta {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }

  .q-tag {
    font-size: 11px;
    letter-spacing: 1px;
    padding: 4px 12px;
    border-radius: 20px;
    font-weight: 600;
  }

  .tag-level { background: rgba(201,168,76,0.15); color: var(--accent); }
  .tag-type { background: rgba(160,196,255,0.1); color: var(--korean); }

  .q-text {
    font-size: 18px;
    line-height: 1.7;
    margin-bottom: 8px;
  }

  .q-text .korean {
    font-family: 'Noto Serif KR', serif;
    color: var(--korean);
    font-size: 22px;
  }

  .q-hint {
    font-size: 13px;
    color: var(--text-muted);
    margin-top: 8px;
    font-style: italic;
  }

  /* Reading passage */
  .reading-passage {
    background: rgba(160,196,255,0.05);
    border-left: 3px solid var(--korean);
    border-radius: 0 8px 8px 0;
    padding: 16px 20px;
    margin-bottom: 20px;
    font-family: 'Noto Serif KR', serif;
    font-size: 16px;
    line-height: 2;
    color: var(--korean);
  }

  .reading-passage .translation {
    font-family: 'Noto Sans TC', sans-serif;
    font-size: 12px;
    color: var(--text-muted);
    font-style: italic;
    margin-top: 8px;
  }

  /* Options */
  .options {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 20px;
  }

  .option-btn {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 14px 20px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 10px;
    color: var(--text);
    font-size: 15px;
    cursor: pointer;
    transition: all 0.2s;
    text-align: left;
    font-family: 'Noto Sans TC', sans-serif;
  }

  .option-btn:hover:not(:disabled) {
    border-color: var(--accent);
    background: rgba(201,168,76,0.06);
  }

  .option-num {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    border: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    flex-shrink: 0;
    font-weight: 600;
    transition: all 0.2s;
  }

  .option-btn:hover:not(:disabled) .option-num {
    background: var(--accent);
    border-color: var(--accent);
    color: #000;
  }

  .option-btn.correct {
    border-color: var(--correct);
    background: rgba(76,175,125,0.1);
  }

  .option-btn.correct .option-num {
    background: var(--correct);
    border-color: var(--correct);
    color: #fff;
  }

  .option-btn.wrong {
    border-color: var(--wrong);
    background: rgba(224,92,92,0.1);
  }

  .option-btn.wrong .option-num {
    background: var(--wrong);
    border-color: var(--wrong);
    color: #fff;
  }

  /* Fill blank */
  .fill-input {
    width: 100%;
    padding: 14px 18px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 10px;
    color: var(--text);
    font-size: 16px;
    font-family: 'Noto Serif KR', serif;
    outline: none;
    transition: border 0.2s;
    margin-top: 16px;
  }

  .fill-input:focus { border-color: var(--accent); }
  .fill-input.correct { border-color: var(--correct); background: rgba(76,175,125,0.1); }
  .fill-input.wrong { border-color: var(--wrong); background: rgba(224,92,92,0.1); }

  .submit-fill-btn {
    margin-top: 12px;
    padding: 12px 32px;
    background: var(--accent);
    border: none;
    border-radius: 8px;
    color: #000;
    font-size: 14px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    font-family: 'Noto Sans TC', sans-serif;
  }

  .submit-fill-btn:hover { background: var(--accent2); }

  /* Explanation */
  .explanation {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 16px 20px;
    margin-top: 16px;
    font-size: 14px;
    line-height: 1.7;
    display: none;
  }

  .explanation.show { display: block; animation: fadeUp 0.3s ease; }

  .explanation .exp-title {
    font-size: 11px;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--accent);
    margin-bottom: 8px;
  }

  /* Next button */
  .next-btn {
    width: 100%;
    padding: 16px;
    background: transparent;
    border: 1px solid var(--accent);
    border-radius: 10px;
    color: var(--accent);
    font-size: 14px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    letter-spacing: 2px;
    font-family: 'Noto Sans TC', sans-serif;
    display: none;
  }

  .next-btn.show { display: block; }
  .next-btn:hover { background: rgba(201,168,76,0.1); }

  /* Result Panel */
  #result-panel {
    display: none;
    text-align: center;
    animation: fadeUp 0.5s ease;
  }

  .result-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 48px;
    margin-bottom: 24px;
  }

  .result-title {
    font-family: 'DM Serif Display', serif;
    font-size: 48px;
    color: var(--accent);
    margin-bottom: 8px;
  }

  .result-score {
    font-size: 64px;
    font-family: 'DM Serif Display', serif;
    line-height: 1;
    margin: 16px 0;
  }

  .result-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
    margin: 32px 0;
  }

  .stat-box {
    background: var(--surface);
    border-radius: 10px;
    padding: 16px;
  }

  .stat-num {
    font-family: 'DM Serif Display', serif;
    font-size: 28px;
    margin-bottom: 4px;
  }

  .stat-label { font-size: 11px; color: var(--text-muted); letter-spacing: 1px; }

  .restart-btn {
    padding: 16px 48px;
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    border: none;
    border-radius: 10px;
    color: #000;
    font-size: 15px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    font-family: 'Noto Sans TC', sans-serif;
    letter-spacing: 2px;
  }

  .restart-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(201,168,76,0.3); }

  /* Animations */
  @keyframes fadeDown {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .korean-text {
    font-family: 'Noto Serif KR', serif;
  }
</style>
</head>
<body>
<div class="container">

  <!-- Header -->
  <div class="header">
    <div class="header-badge">TOPIK Practice System</div>
    <h1>Korean <span>Test</span> Prep</h1>
    <div class="header-sub">í•œêµ­ì–´ëŠ¥ë ¥ì‹œí—˜ ì—°ìŠµ</div>
  </div>

  <!-- Setup Panel -->
  <div id="setup-panel">
    <div class="setup-grid">

      <!-- Level selection -->
      <div class="setup-section">
        <h3>é¸æ“‡ç´šåˆ¥ / Level</h3>
        <p class="en">Select difficulty levels</p>
        <div class="checkbox-group">
          <label class="check-item">
            <input type="checkbox" name="level" value="1" checked>
            <div class="checkmark"></div>
            <div class="check-label">
              <div class="zh">TOPIK I <span class="level-badge level-1">1-2 ç´š</span></div>
              <div class="en">Beginner / åˆç´š</div>
            </div>
          </label>
          <label class="check-item">
            <input type="checkbox" name="level" value="2" checked>
            <div class="checkmark"></div>
            <div class="check-label">
              <div class="zh">TOPIK II <span class="level-badge level-2">3-4 ç´š</span></div>
              <div class="en">Intermediate / ä¸­ç´š</div>
            </div>
          </label>
          <label class="check-item">
            <input type="checkbox" name="level" value="3" checked>
            <div class="checkmark"></div>
            <div class="check-label">
              <div class="zh">TOPIK II <span class="level-badge level-3">5-6 ç´š</span></div>
              <div class="en">Advanced / é«˜ç´š</div>
            </div>
          </label>
        </div>
      </div>

      <!-- Question type selection -->
      <div class="setup-section">
        <h3>é¡Œå‹é¸æ“‡ / Type</h3>
        <p class="en">Select question types</p>
        <div class="checkbox-group">
          <label class="check-item">
            <input type="checkbox" name="type" value="vocab" checked>
            <div class="checkmark"></div>
            <div class="check-label">
              <div class="zh">è©å½™é¸æ“‡é¡Œ</div>
              <div class="en">Vocabulary MCQ / ì–´íœ˜</div>
            </div>
          </label>
          <label class="check-item">
            <input type="checkbox" name="type" value="grammar" checked>
            <div class="checkmark"></div>
            <div class="check-label">
              <div class="zh">æ–‡æ³•é¸æ“‡é¡Œ</div>
              <div class="en">Grammar MCQ / ë¬¸ë²•</div>
            </div>
          </label>
          <label class="check-item">
            <input type="checkbox" name="type" value="reading" checked>
            <div class="checkmark"></div>
            <div class="check-label">
              <div class="zh">é–±è®€ç†è§£</div>
              <div class="en">Reading Comp. / ë…í•´</div>
            </div>
          </label>
          <label class="check-item">
            <input type="checkbox" name="type" value="fill" checked>
            <div class="checkmark"></div>
            <div class="check-label">
              <div class="zh">å¡«ç©ºé¡Œ</div>
              <div class="en">Fill in the blank / ë¹ˆì¹¸</div>
            </div>
          </label>
        </div>
      </div>

    </div>

    <!-- Question count -->
    <div class="setup-section" style="margin-bottom:24px;">
      <h3>é¡Œç›®æ•¸é‡ / Question Count</h3>
      <p class="en">How many questions per session?</p>
      <div class="count-control">
        <button onclick="changeCount(-5)">âˆ’</button>
        <div class="count-display" id="count-display">10</div>
        <button onclick="changeCount(5)">+</button>
        <span style="color:var(--text-muted); font-size:13px;">é¡Œ / questions</span>
      </div>
    </div>

    <button class="start-btn" onclick="startQuiz()">
      é–‹å§‹ç·´ç¿’ START PRACTICE â†’
    </button>
  </div>

  <!-- Quiz Panel -->
  <div id="quiz-panel">
    <div class="quiz-header">
      <div class="progress-info">
        <div class="q-counter" id="q-counter">1 <span>/ 10</span></div>
      </div>
      <div class="score-display">
        æ­£ç¢º Correct: <b id="score-display">0</b>
      </div>
    </div>

    <div class="progress-bar-wrap">
      <div class="progress-bar" id="progress-bar" style="width:0%"></div>
    </div>

    <div class="question-card" id="question-card">
      <!-- Dynamic content -->
    </div>

    <div class="explanation" id="explanation"></div>

    <button class="next-btn" id="next-btn" onclick="nextQuestion()">
      ä¸‹ä¸€é¡Œ NEXT QUESTION â†’
    </button>
  </div>

  <!-- Result Panel -->
  <div id="result-panel">
    <div class="result-card">
      <div class="result-title" id="result-emoji">ğŸ‰</div>
      <div style="font-size:16px; color:var(--text-muted); margin-bottom:8px;">éŸ“æª¢ç·´ç¿’å®Œæˆ / Practice Complete</div>
      <div class="result-score" id="result-score">8/10</div>
      <div style="color:var(--text-muted); font-size:13px;">å¾—åˆ†ç‡ Score Rate: <span id="result-pct" style="color:var(--accent);">80%</span></div>

      <div class="result-stats">
        <div class="stat-box">
          <div class="stat-num" style="color:var(--correct)" id="stat-correct">0</div>
          <div class="stat-label">æ­£ç¢º Correct</div>
        </div>
        <div class="stat-box">
          <div class="stat-num" style="color:var(--wrong)" id="stat-wrong">0</div>
          <div class="stat-label">éŒ¯èª¤ Wrong</div>
        </div>
        <div class="stat-box">
          <div class="stat-num" style="color:var(--korean)" id="stat-total">0</div>
          <div class="stat-label">ç¸½é¡Œæ•¸ Total</div>
        </div>
      </div>

      <div id="result-message" style="font-size:15px; color:var(--text-muted); margin-bottom:28px;"></div>
    </div>

    <button class="restart-btn" onclick="restart()">é‡æ–°ç·´ç¿’ RESTART â†’</button>
  </div>

</div>

<script>
// ================================================================
// QUESTION BANK
// ================================================================
const QUESTIONS = {
  vocab: {
    1: [
      {
        question: "ë‹¤ìŒ ë¹ˆì¹¸ì— ì•Œë§ì€ ë‹¨ì–´ë¥¼ ê³ ë¥´ì„¸ìš”.\nì˜¤ëŠ˜ ë‚ ì”¨ê°€ ( ) ì½”íŠ¸ë¥¼ ì…ì—ˆì–´ìš”.",
        questionZh: "é¸å‡ºé©åˆå¡«å…¥æ‹¬è™Ÿçš„è©ã€‚\nä»Šå¤©å¤©æ°£ï¼ˆ ï¼‰ï¼Œæ‰€ä»¥ç©¿äº†å¤§è¡£ã€‚",
        options: ["ë”ì›Œì„œ","ì¶”ì›Œì„œ","ë°”ë¹ ì„œ","ìŠ¬í¼ì„œ"],
        optionsZh: ["å› ç‚ºç†±","å› ç‚ºå†·","å› ç‚ºå¿™","å› ç‚ºæ‚²å‚·"],
        answer: 1,
        explanation: "ì¶”ì›Œì„œ = å› ç‚ºå†·ã€‚ë‚ ì”¨ê°€ ì¶”ì›Œì„œ ì½”íŠ¸ë¥¼ ì…ì—ˆì–´ìš” = å› ç‚ºå¤©æ°£å†·æ‰€ä»¥ç©¿äº†å¤§è¡£ã€‚æ–‡æ³•ï¼šå½¢å®¹è© + ì•„ì„œ/ì–´ì„œ = å› ç‚ºâ€¦"
      },
      {
        question: "ë°‘ì¤„ ì¹œ ë‹¨ì–´ì™€ ë°˜ëŒ€ë˜ëŠ” ëœ»ì„ ê°€ì§„ ê²ƒì„ ê³ ë¥´ì„¸ìš”.\nì´ ê°€ë°©ì€ <u>ê°€ë²¼ì›Œìš”</u>.",
        questionZh: "é¸å‡ºèˆ‡åº•ç·šè©èªæ„æ€ç›¸åçš„è©ã€‚\né€™å€‹åŒ…åŒ…å¾ˆè¼•ã€‚",
        options: ["ì‘ì•„ìš”","ë¬´ê±°ì›Œìš”","ë¹„ì‹¸ìš”","ì¢‹ì•„ìš”"],
        optionsZh: ["å°","é‡","è²´","å¥½"],
        answer: 1,
        explanation: "ê°€ë³ë‹¤ï¼ˆè¼•ï¼‰çš„åç¾©è©æ˜¯ ë¬´ê²ë‹¤ï¼ˆé‡ï¼‰ã€‚ê°€ë³ë‹¤ â†’ ë°˜ì˜ì–´ â†’ ë¬´ê²ë‹¤"
      },
      {
        question: "ë‹¤ìŒ ì¤‘ 'ë¨¹ë‹¤'ì™€ ê´€ê³„ì—†ëŠ” ë‹¨ì–´ëŠ”?",
        questionZh: "ä¸‹åˆ—å“ªå€‹è©èˆ‡ã€Œåƒã€ç„¡é—œï¼Ÿ",
        options: ["ë°¥","ìŒì‹","ì‹ë‹¹","ë°”ëŒ"],
        optionsZh: ["é£¯","é£Ÿç‰©","é¤å»³","é¢¨"],
        answer: 3,
        explanation: "ë°”ëŒ = é¢¨ï¼Œèˆ‡åƒæ±è¥¿ç„¡é—œã€‚å…¶é¤˜ï¼šë°¥(é£¯)ã€ìŒì‹(é£Ÿç‰©)ã€ì‹ë‹¹(é¤å»³)éƒ½èˆ‡é£²é£Ÿç›¸é—œã€‚"
      },
      {
        question: "( )ì— ì•Œë§ì€ ë§ì„ ê³ ë¥´ì„¸ìš”.\nì €ëŠ” ë§¤ì¼ ì•„ì¹¨ 6ì‹œì— ( ).",
        questionZh: "é¸å‡ºé©åˆå¡«å…¥æ‹¬è™Ÿçš„è©ã€‚\næˆ‘æ¯å¤©æ—©ä¸Š6é»ï¼ˆ ï¼‰ã€‚",
        options: ["ì¡ë‹ˆë‹¤","ì¼ì–´ë‚©ë‹ˆë‹¤","ë¨¹ìŠµë‹ˆë‹¤","ê°‘ë‹ˆë‹¤"],
        optionsZh: ["ç¡è¦º","èµ·åºŠ","åƒæ±è¥¿","å»"],
        answer: 1,
        explanation: "6ì‹œì— ì¼ì–´ë‚©ë‹ˆë‹¤ = 6é»èµ·åºŠã€‚ì‹œê°„ + ì— + ì¼ì–´ë‚˜ë‹¤ æ˜¯æœ€è‡ªç„¶çš„æ­é…ã€‚"
      }
    ],
    2: [
      {
        question: "ë‹¤ìŒ ( )ì— ê°€ì¥ ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.\nê·¸ ì˜í™”ëŠ” ì¬ë¯¸ìˆë‹¤ëŠ” ( )ì´/ê°€ ë§ì•„ìš”.",
        questionZh: "é¸å‡ºæœ€é©åˆå¡«å…¥æ‹¬è™Ÿçš„è©ã€‚\né‚£éƒ¨é›»å½±æœ‰å¾ˆå¤šèªªã€Œæœ‰è¶£ã€çš„ï¼ˆ ï¼‰ã€‚",
        options: ["ì†Œë¬¸","ì˜ê²¬","ê¸°ì‚¬","í‰ê°€"],
        optionsZh: ["è¬ è¨€","æ„è¦‹","å ±å°","è©•åƒ¹"],
        answer: 3,
        explanation: "í‰ê°€(è©•åƒ¹) = å°äº‹ç‰©é€²è¡Œåˆ¤æ–·çš„è©•è«–ã€‚ì†Œë¬¸(è¬ è¨€)ã€ì˜ê²¬(æ„è¦‹)ã€ê¸°ì‚¬(å ±å°)èªæ„çš†ä¸ç¬¦ã€‚"
      },
      {
        question: "ë°‘ì¤„ ì¹œ ë¶€ë¶„ê³¼ ì˜ë¯¸ê°€ ê°™ì€ ê²ƒì€?\níšŒì˜ê°€ <u>ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤</u>.",
        questionZh: "é¸å‡ºèˆ‡åº•ç·šéƒ¨åˆ†æ„æ€ç›¸åŒçš„è©çµ„ã€‚\næœƒè­°è¢«å–æ¶ˆäº†ã€‚",
        options: ["ì—†ì–´ì¡ŒìŠµë‹ˆë‹¤","ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤","ì—°ê¸°ë˜ì—ˆìŠµë‹ˆë‹¤","ëë‚¬ìŠµë‹ˆë‹¤"],
        optionsZh: ["æ¶ˆå¤±äº†","é–‹å§‹äº†","å»¶æœŸäº†","çµæŸäº†"],
        answer: 0,
        explanation: "ì·¨ì†Œ(å–æ¶ˆ) â‰ˆ ì—†ì–´ì§€ë‹¤(æ¶ˆå¤±ã€å–æ¶ˆ)ã€‚ì—°ê¸°(å»¶æœŸ)æ˜¯æ¨é²ï¼Œä¸åŒæ„æ€ã€‚"
      },
      {
        question: "ë‹¤ìŒ ë‹¨ì–´ ì¤‘ ì„±ê²©ì„ ë‚˜íƒ€ë‚´ëŠ” ê²ƒì´ ì•„ë‹Œ ê²ƒì€?",
        questionZh: "ä¸‹åˆ—å“ªå€‹è©ã€Œä¸æ˜¯ã€ç”¨ä¾†æè¿°å€‹æ€§çš„ï¼Ÿ",
        options: ["ì¹œì ˆí•˜ë‹¤","ì„±ì‹¤í•˜ë‹¤","í”¼ê³¤í•˜ë‹¤","ì†Œê·¹ì ì´ë‹¤"],
        optionsZh: ["è¦ªåˆ‡çš„","èª å¯¦çš„","ç–²ç´¯çš„","æ¶ˆæ¥µçš„"],
        answer: 2,
        explanation: "í”¼ê³¤í•˜ë‹¤(ç–²ç´¯)æ˜¯è¡¨ç¤ºç‹€æ…‹çš„è©ï¼Œä¸æ˜¯æ€§æ ¼æè¿°ã€‚å…¶é¤˜éƒ½æ˜¯æ€§æ ¼ç›¸é—œå½¢å®¹è©ã€‚"
      }
    ],
    3: [
      {
        question: "ë‹¤ìŒ ( )ì— ë“¤ì–´ê°ˆ ë§ë¡œ ê°€ì¥ ì ì ˆí•œ ê²ƒì€?\nê·¸ì˜ ë°œí‘œëŠ” ë‚´ìš©ì´ ë„ˆë¬´ ë³µì¡í•˜ì—¬ ( )ì´/ê°€ ë‚®ì•˜ë‹¤.",
        questionZh: "é¸å‡ºæœ€é©åˆå¡«å…¥æ‹¬è™Ÿçš„è©ã€‚\nä»–çš„ç™¼è¡¨å…§å®¹å¤ªè¤‡é›œï¼Œï¼ˆ ï¼‰å¾ˆä½ã€‚",
        options: ["ê°€ë…ì„±","ì‹ ë¢°ì„±","ì°½ì˜ì„±","íš¨ìœ¨ì„±"],
        optionsZh: ["å¯è®€æ€§","å¯ä¿¡åº¦","å‰µæ„æ€§","æ•ˆç‡æ€§"],
        answer: 0,
        explanation: "ê°€ë…ì„±(å¯è®€æ€§) = æ–‡ç« å®¹æ˜“é–±è®€ç†è§£çš„ç¨‹åº¦ã€‚å…§å®¹è¤‡é›œ â†’ å¯è®€æ€§ä½ï¼Œèªæ„æœ€ç‚ºé€£è²«ã€‚"
      },
      {
        question: "ë°‘ì¤„ ì¹œ ë‹¨ì–´ì˜ ì“°ì„ì´ ì˜ëª»ëœ ê²ƒì€?",
        questionZh: "é¸å‡ºåº•ç·šè©èªä½¿ç”¨éŒ¯èª¤çš„å¥å­ã€‚",
        options: ["ê·¸ëŠ” ë§¤ìš° <u>ì‹ ì¤‘í•˜ê²Œ</u> ê²°ì •ì„ ë‚´ë ¸ë‹¤.","ë‚ ì”¨ê°€ <u>íë ¤ì„œ</u> ìš°ì‚°ì„ ì±™ê²¼ë‹¤.","ê·¸ë…€ëŠ” ëª©ì†Œë¦¬ê°€ <u>ìš°ë ì°¨ì„œ</u> ë§ì´ ì—†ë‹¤.","ì´ ë¬¸ì œëŠ” ë§¤ìš° <u>ë³µì¡í•œ</u> êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆë‹¤."],
        optionsZh: ["ä»–éå¸¸è¬¹æ…åœ°åšäº†æ±ºå®šã€‚","å¤©æ°£é™°æ‰€ä»¥å¸¶äº†å‚˜ã€‚","å¥¹è²éŸ³æ´ªäº®æ‰€ä»¥è©±ä¸å¤šã€‚(éŒ¯èª¤)","é€™å€‹å•é¡Œå…·æœ‰éå¸¸è¤‡é›œçš„çµæ§‹ã€‚"],
        answer: 2,
        explanation: "ìš°ë ì°¨ë‹¤(è²éŸ³æ´ªäº®)å’Œè©±å°‘æ²’æœ‰é‚è¼¯é—œä¿‚ï¼Œæ‡‰è©²æ˜¯è©±å¤šæ‰å°ã€‚"
      }
    ]
  },
  grammar: {
    1: [
      {
        question: "ë‹¤ìŒ ( )ì— ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.\nì €ëŠ” í•™ìƒ( ) ë§¤ì¼ í•™êµì— ê°€ìš”.",
        questionZh: "é¸å‡ºé©åˆå¡«å…¥æ‹¬è™Ÿçš„åŠ©è©ã€‚\næˆ‘æ˜¯å­¸ç”Ÿï¼Œæ¯å¤©å»å­¸æ ¡ã€‚",
        options: ["ì´ë¼ì„œ","ì—ì„œ","ìœ¼ë¡œ","í•œí…Œ"],
        optionsZh: ["å› ç‚ºæ˜¯ï¼ˆèº«ä»½ï¼‰","åœ¨ï¼ˆå ´æ‰€ï¼‰","å¾€ï¼ˆæ–¹å‘ï¼‰","å°ï¼ˆäººï¼‰"],
        answer: 0,
        explanation: "ì´ë¼ì„œ/ë¼ì„œ = å› ç‚ºæ˜¯â€¦ï¼ˆè¡¨ç¤ºèº«ä»½åŸå› ï¼‰ã€‚í•™ìƒì´ë¼ì„œ ë§¤ì¼ í•™êµì— ê°€ìš” = å› ç‚ºæ˜¯å­¸ç”Ÿï¼Œæ¯å¤©å»å­¸æ ¡ã€‚"
      },
      {
        question: "ë‹¤ìŒ ì¤‘ ì˜¬ë°”ë¥¸ ë¬¸ì¥ì„ ê³ ë¥´ì„¸ìš”.",
        questionZh: "é¸å‡ºæ­£ç¢ºçš„å¥å­ã€‚",
        options: ["ì €ëŠ” ì–´ì œ ê³µì›ì—ì„œ ìš´ë™í–ˆì–´ìš”.","ì €ëŠ” ì–´ì œ ê³µì›ì— ìš´ë™í–ˆì–´ìš”.","ì €ëŠ” ì–´ì œ ê³µì›ì´ ìš´ë™í–ˆì–´ìš”.","ì €ëŠ” ì–´ì œ ê³µì›ë¥¼ ìš´ë™í–ˆì–´ìš”."],
        optionsZh: ["æ˜¨å¤©æˆ‘åœ¨å…¬åœ’é‹å‹•äº†ã€‚(O)","æ˜¨å¤©æˆ‘å»å…¬åœ’é‹å‹•äº†ã€‚(èªæ„ä¸å®Œæ•´)","æ˜¨å¤©æˆ‘æ˜¯å…¬åœ’é‹å‹•äº†ã€‚(X)","åŠ©è©ä½¿ç”¨éŒ¯èª¤ (X)"],
        answer: 0,
        explanation: "ì—ì„œ ç”¨æ–¼ã€Œåœ¨æŸåœ°é»åšæŸå‹•ä½œã€ã€‚ê³µì›ì—ì„œ ìš´ë™í•˜ë‹¤ = åœ¨å…¬åœ’é‹å‹•ã€‚ì— å¾Œé€šå¸¸æ¥ç§»å‹•å‹•è©ï¼ˆê°€ë‹¤ã€ì˜¤ë‹¤ï¼‰ã€‚"
      },
      {
        question: "( )ì— ë“¤ì–´ê°ˆ ë§ë¡œ ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.\në°°ê°€ ê³ íŒŒìš”. ë­”ê°€ ( ) ì‹¶ì–´ìš”.",
        questionZh: "é¸å‡ºé©åˆå¡«å…¥æ‹¬è™Ÿçš„è©ã€‚\næˆ‘å¾ˆé¤“ï¼Œæƒ³ï¼ˆ ï¼‰æ±è¥¿ã€‚",
        options: ["ë¨¹ê³ ","ë¨¹ì–´","ë¨¹ìœ¼ë©´","ë¨¹ì–´ì„œ"],
        optionsZh: ["åƒï¼ˆæƒ³åšï¼‰","åƒï¼ˆå·²åƒï¼‰","å¦‚æœåƒ","å› ç‚ºåƒ"],
        answer: 0,
        explanation: "å‹•è© + ê³  ì‹¶ë‹¤ = æƒ³åšâ€¦ã€‚ë¨¹ê³  ì‹¶ë‹¤ = æƒ³åƒã€‚ì´ ë¬¸ë²•ì€ í¬ë§/ìš•êµ¬ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤ã€‚"
      }
    ],
    2: [
      {
        question: "ë‹¤ìŒ ë°‘ì¤„ ì¹œ ë¶€ë¶„ì´ ì–´ìƒ‰í•œ ê²ƒì„ ê³ ë¥´ì„¸ìš”.",
        questionZh: "é¸å‡ºåº•ç·šéƒ¨åˆ†ä¸è‡ªç„¶çš„å¥å­ã€‚",
        options: ["ë¹„ê°€ <u>ì˜¤ëŠ” ë°”ëŒì—</u> ì†Œí’ì´ ì·¨ì†Œëì–´ìš”.","ê·¸ëŠ” ì—´ì‹¬íˆ <u>ê³µë¶€í•œ ë•ë¶„ì—</u> í•©ê²©í–ˆì–´ìš”.","ëˆì´ <u>ì—†ìŒì—ë„ ë¶ˆêµ¬í•˜ê³ </u> ì—¬í–‰ì„ ë– ë‚¬ì–´ìš”.","ë‚´ì¼ ì‹œí—˜ì´ <u>ìˆì–´ì„œì¸ì§€</u> ê¸´ì¥ì´ ë¼ìš”."],
        optionsZh: ["å› ç‚ºä¸‹é›¨ï¼ŒéƒŠéŠå–æ¶ˆäº†ã€‚","å¤šè™§äº†ä»–åŠªåŠ›å­¸ç¿’ï¼Œé€šéäº†è€ƒè©¦ã€‚","å„˜ç®¡æ²’æœ‰éŒ¢ï¼Œé‚„æ˜¯å»æ—…è¡Œäº†ã€‚","ä¹Ÿè¨±æ˜¯å› ç‚ºæ˜å¤©æœ‰è€ƒè©¦ï¼Œæˆ‘å¾ˆç·Šå¼µã€‚"],
        answer: -1,
        explanation: "å››å€‹å¥å­éƒ½æ˜¯æ­£ç¢ºçš„ï¼ì´ ë¬¸ì œëŠ” ì „ë¶€ ì˜¬ë°”ë¥¸ ë¬¸ë²• í‘œí˜„ì…ë‹ˆë‹¤ã€‚-ëŠ” ë°”ëŒì—ï¼ˆç”±æ–¼ï¼‰ã€-ã„´ ë•ë¶„ì—ï¼ˆå¤šè™§ï¼‰ã€-ì—ë„ ë¶ˆêµ¬í•˜ê³ ï¼ˆå„˜ç®¡ï¼‰ã€-ì•„ì„œì¸ì§€ï¼ˆä¹Ÿè¨±æ˜¯å› ç‚ºï¼‰éƒ½æ˜¯æ­£ç¢ºçš„é«˜ç´šæ–‡æ³•ã€‚",
        allCorrect: true
      },
      {
        question: "ë‹¤ìŒ ( )ì— ë“¤ì–´ê°ˆ ì ì ˆí•œ í‘œí˜„ì€?\nì•„ë¬´ë¦¬ ë°”ë¹ ( ) ì‹ì‚¬ëŠ” ê¼­ ì±™ê²¨ì•¼ í•´ìš”.",
        questionZh: "é¸å‡ºæœ€é©åˆå¡«å…¥æ‹¬è™Ÿçš„è¡¨ç¾ã€‚\nç„¡è«–å¤šå¿™ï¼Œä¸€å®šè¦å¥½å¥½åƒé£¯ã€‚",
        options: ["ë”ë¼ë„","ì§€ë§Œ","ì•„ì„œ","ë‹ˆê¹Œ"],
        optionsZh: ["å³ä½¿ï¼ˆè®“æ­¥ï¼‰","ä½†æ˜¯","å› ç‚º","æ‰€ä»¥/å› ç‚º"],
        answer: 0,
        explanation: "ì•„ë¬´ë¦¬ + V/A + ë”ë¼ë„ = ç„¡è«–å†æ€éº¼â€¦ æ˜¯è®“æ­¥æ¢ä»¶å¥å‹ã€‚ì•„ë¬´ë¦¬ ë°”ì˜ë”ë¼ë„ = ç„¡è«–å¤šå¿™ã€‚"
      },
      {
        question: "( )ì— ê³µí†µìœ¼ë¡œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” ê²ƒì„ ê³ ë¥´ì„¸ìš”.\nãƒ» ì—¬ê¸° ì•‰ì•„( ) ë¼ìš”?\nãƒ» ì´ê±° ë¨¹ì–´( ) ë¼ìš”?",
        questionZh: "é¸å‡ºå¯ä»¥å…±åŒå¡«å…¥æ‹¬è™Ÿçš„è©ã€‚\nãƒ» å¯ä»¥åé€™è£¡å—ï¼Ÿ\nãƒ» å¯ä»¥åƒé€™å€‹å—ï¼Ÿ",
        options: ["ë„","ì„œ","ì•¼","ì•¼ë§Œ"],
        optionsZh: ["ä¹Ÿ","ç„¶å¾Œ","æ‰è¡Œ","éâ€¦ä¸å¯"],
        answer: 0,
        explanation: "V + ì•„/ì–´ë„ ë¼ìš” = å¯ä»¥åšâ€¦ï¼ˆè¨±å¯ï¼‰ã€‚ì•‰ì•„ë„ ë¼ìš” = å¯ä»¥åã€‚ë¨¹ì–´ë„ ë¼ìš” = å¯ä»¥åƒã€‚"
      }
    ],
    3: [
      {
        question: "ë‹¤ìŒ ì¤‘ ë¬¸ë²•ì ìœ¼ë¡œ í‹€ë¦° ë¬¸ì¥ì„ ê³ ë¥´ì„¸ìš”.",
        questionZh: "é¸å‡ºæ–‡æ³•éŒ¯èª¤çš„å¥å­ã€‚",
        options: ["ê·¸ ì†Œì‹ì„ ë“£ê³ ì„œì•¼ ë¹„ë¡œì†Œ ì‚¬íƒœì˜ ì‹¬ê°ì„±ì„ ê¹¨ë‹¬ì•˜ë‹¤.","íšŒì˜ ê²°ê³¼ì— ë”°ë¼ì„œ í–¥í›„ ê³„íšì´ ê²°ì •ë  ê²ƒì…ë‹ˆë‹¤.","ê·¸ëŠ” ì¼ì„ ë§ˆì¹˜ëŠ” ë°ì— ì˜ˆìƒë³´ë‹¤ ì˜¤ë˜ ê±¸ë ¸ë‹¤.","ì„±ê³µí•˜ë ¤ë©´ ë…¸ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ì•ˆ ëœë‹¤ê³  ìƒê°ë˜ì–´ì§„ë‹¤."],
        optionsZh: ["è½åˆ°é‚£å€‹æ¶ˆæ¯ä¹‹å¾Œæ‰çµ‚æ–¼æ„è­˜åˆ°äº‹æ…‹çš„åš´é‡æ€§ã€‚","æ ¹æ“šæœƒè­°çµæœï¼Œå°‡æ±ºå®šä»Šå¾Œçš„è¨ˆåŠƒã€‚","ä»–å®Œæˆå·¥ä½œèŠ±äº†æ¯”é æœŸæ›´é•·çš„æ™‚é–“ã€‚","èªç‚ºå¦‚æœæƒ³æˆåŠŸå°±å¿…é ˆåŠªåŠ›ã€‚(é›™é‡è¢«å‹•ï¼Œä¸è‡ªç„¶)"],
        answer: 3,
        explanation: "ìƒê°ë˜ì–´ì§„ë‹¤ = ìƒê°ë˜ë‹¤ï¼ˆè¢«å‹•ï¼‰+ ì–´ì§€ë‹¤ï¼ˆè¢«å‹•ï¼‰ = é›™é‡è¢«å‹•ï¼Œæ˜¯ä¸è‡ªç„¶çš„è¡¨é”ã€‚æ­£ç¢ºæ‡‰ç‚º ìƒê°ëœë‹¤ æˆ– ìƒê°í•œë‹¤ã€‚"
      }
    ]
  },
  reading: {
    1: [
      {
        passage: "ì €ëŠ” ì£¼ë§ë§ˆë‹¤ ê³µì›ì— ê°€ìš”. ê±°ê¸°ì„œ ì‚°ì±…ë„ í•˜ê³  ì¹œêµ¬ë“¤ë„ ë§Œë‚˜ìš”. ê³µì›ì—ëŠ” í° ë‚˜ë¬´ì™€ ê½ƒì´ ë§ì•„ìš”. ì €ëŠ” ê³µì›ì„ ì •ë§ ì¢‹ì•„í•´ìš”.",
        passageZh: "æˆ‘æ¯é€±æœ«éƒ½å»å…¬åœ’ã€‚åœ¨é‚£è£¡æ•£æ­¥ï¼Œä¹Ÿå’Œæœ‹å‹å€‘è¦‹é¢ã€‚å…¬åœ’è£¡æœ‰å¾ˆå¤šå¤§æ¨¹å’ŒèŠ±ã€‚æˆ‘éå¸¸å–œæ­¡å…¬åœ’ã€‚",
        question: "ì´ ì‚¬ëŒì€ ì£¼ë§ì— ë¬´ì—‡ì„ í•´ìš”?",
        questionZh: "é€™å€‹äººé€±æœ«åšä»€éº¼ï¼Ÿ",
        options: ["ì§‘ì—ì„œ ì‰¬ì–´ìš”.","ê³µì›ì— ê°€ìš”.","ë„ì„œê´€ì— ê°€ìš”.","ì¹œêµ¬ ì§‘ì— ê°€ìš”."],
        optionsZh: ["åœ¨å®¶ä¼‘æ¯ã€‚","å»å…¬åœ’ã€‚","å»åœ–æ›¸é¤¨ã€‚","å»æœ‹å‹å®¶ã€‚"],
        answer: 1,
        explanation: "æ–‡ç« ç¬¬ä¸€å¥ï¼šì €ëŠ” ì£¼ë§ë§ˆë‹¤ ê³µì›ì— ê°€ìš” = æˆ‘æ¯é€±æœ«éƒ½å»å…¬åœ’ã€‚ç­”æ¡ˆæ˜¯ â‘¡ ê³µì›ì— ê°€ìš”ã€‚"
      },
      {
        passage: "ì˜¤ëŠ˜ì€ ë‚ ì”¨ê°€ ë§‘ì•„ìš”. í•˜ëŠ˜ì´ íŒŒë—ê³  í–‡ë¹›ì´ ë”°ëœ»í•´ìš”. ì´ëŸ° ë‚ ì—ëŠ” ë°–ì—ì„œ ìš´ë™í•˜ê³  ì‹¶ì–´ìš”. ì§‘ ê·¼ì²˜ ê³µì›ì— ê°€ë ¤ê³  í•´ìš”.",
        passageZh: "ä»Šå¤©å¤©æ°£æ™´æœ—ã€‚å¤©ç©ºæ¹›è—ï¼Œé™½å…‰æº«æš–ã€‚é€™ç¨®å¤©æ°£æƒ³åœ¨å¤–é¢é‹å‹•ã€‚æ‰“ç®—å»å®¶é™„è¿‘çš„å…¬åœ’ã€‚",
        question: "ì´ ì‚¬ëŒì€ ë¬´ì—‡ì„ í•˜ë ¤ê³  í•´ìš”?",
        questionZh: "é€™å€‹äººæ‰“ç®—åšä»€éº¼ï¼Ÿ",
        options: ["ì§‘ì—ì„œ ì‰¬ë‹¤","ë‚ ì”¨ êµ¬ê²½ì„ í•˜ë‹¤","ê³µì›ì—ì„œ ìš´ë™í•˜ë‹¤","ì¹œêµ¬ë¥¼ ë§Œë‚˜ë‹¤"],
        optionsZh: ["åœ¨å®¶ä¼‘æ¯","è§€è³å¤©æ°£","åœ¨å…¬åœ’é‹å‹•","è¦‹æœ‹å‹"],
        answer: 2,
        explanation: "ë°–ì—ì„œ ìš´ë™í•˜ê³  ì‹¶ë‹¤ + ê³µì›ì— ê°€ë ¤ê³  í•œë‹¤ â†’ ç­”æ¡ˆæ˜¯ â‘¢ ê³µì›ì—ì„œ ìš´ë™í•˜ë‹¤ã€‚"
      }
    ],
    2: [
      {
        passage: "í˜„ëŒ€ì¸ë“¤ì€ ë°”ìœ ìƒí™œë¡œ ì¸í•´ ìì‹ ì˜ ê±´ê°•ì„ ëŒë³¼ ì‹œê°„ì´ ë¶€ì¡±í•˜ë‹¤. íŠ¹íˆ ì‹ì‚¬ë¥¼ ë¶ˆê·œì¹™í•˜ê²Œ í•˜ê±°ë‚˜ ìš´ë™ì„ ê²Œì„ë¦¬í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ì „ë¬¸ê°€ë“¤ì€ í•˜ë£¨ 30ë¶„ ì´ìƒì˜ ê°€ë²¼ìš´ ìš´ë™ê³¼ ê· í˜• ì¡íŒ ì‹ì‚¬ê°€ ê±´ê°• ìœ ì§€ì˜ ê¸°ë³¸ì„ì„ ê°•ì¡°í•œë‹¤.",
        passageZh: "ç¾ä»£äººå› ç‚ºå¿™ç¢Œçš„ç”Ÿæ´»ï¼Œç¼ºä¹ç…§é¡§è‡ªèº«å¥åº·çš„æ™‚é–“ã€‚ç‰¹åˆ¥æ˜¯é£²é£Ÿä¸è¦å¾‹æˆ–ç–æ–¼é‹å‹•çš„æƒ…æ³å¾ˆå¤šã€‚å°ˆå®¶å€‘å¼·èª¿ï¼Œæ¯å¤©30åˆ†é˜ä»¥ä¸Šçš„è¼•åº¦é‹å‹•å’Œå‡è¡¡é£²é£Ÿæ˜¯ç¶­æŒå¥åº·çš„åŸºæœ¬ã€‚",
        question: "ì´ ê¸€ì˜ ì¤‘ì‹¬ ë‚´ìš©ìœ¼ë¡œ ê°€ì¥ ì•Œë§ì€ ê²ƒì€?",
        questionZh: "é€™ç¯‡æ–‡ç« çš„ä¸­å¿ƒå…§å®¹æ˜¯ä»€éº¼ï¼Ÿ",
        options: ["í˜„ëŒ€ì¸ì˜ ì§ì¥ ìƒí™œ ë¬¸ì œ","ë°”ìœ í˜„ëŒ€ì¸ë“¤ì—ê²Œ í•„ìš”í•œ ê±´ê°• ê´€ë¦¬","ì „ë¬¸ê°€ë“¤ì˜ ì˜ê²¬ì´ ì¤‘ìš”í•œ ì´ìœ ","ìš´ë™ ì¢…ë¥˜ì™€ ë°©ë²• ì†Œê°œ"],
        optionsZh: ["ç¾ä»£äººçš„è·å ´ç”Ÿæ´»å•é¡Œ","å¿™ç¢Œç¾ä»£äººæ‰€éœ€çš„å¥åº·ç®¡ç†","å°ˆå®¶æ„è¦‹é‡è¦çš„ç†ç”±","é‹å‹•ç¨®é¡èˆ‡æ–¹æ³•ä»‹ç´¹"],
        answer: 1,
        explanation: "æ–‡ç« åœç¹ã€Œå¿™ç¢Œç¾ä»£äººçš„å¥åº·å•é¡ŒåŠè§£æ±ºæ–¹æ³•ã€å±•é–‹ï¼Œä¸­å¿ƒä¸»é¡Œæ˜¯ â‘¡ ê±´ê°• ê´€ë¦¬ã€‚"
      },
      {
        passage: "ë…ì„œëŠ” ë‹¨ìˆœíˆ ì •ë³´ë¥¼ ì–»ëŠ” ê²ƒì„ ë„˜ì–´ ì‚¬ê³ ë ¥ê³¼ ì°½ì˜ë ¥ì„ í‚¤ìš°ëŠ” íš¨ê³¼ê°€ ìˆë‹¤. ê·¸ëŸ¬ë‚˜ ìµœê·¼ ìŠ¤ë§ˆíŠ¸í° ì‚¬ìš© ì¦ê°€ë¡œ ë…ì„œ ì¸êµ¬ê°€ ê°ì†Œí•˜ê³  ìˆë‹¤. ì´ì— ë”°ë¼ í•™êµì™€ ë„ì„œê´€ì—ì„œëŠ” ë‹¤ì–‘í•œ ë…ì„œ ì¥ë ¤ í”„ë¡œê·¸ë¨ì„ ìš´ì˜í•˜ê³  ìˆë‹¤.",
        passageZh: "é–±è®€ä¸åƒ…åƒ…æ˜¯ç²å–ä¿¡æ¯ï¼Œé‚„æœ‰åŸ¹é¤Šæ€è€ƒåŠ›å’Œå‰µé€ åŠ›çš„æ•ˆæœã€‚ä½†æœ€è¿‘éš¨è‘—æ™ºèƒ½æ‰‹æ©Ÿä½¿ç”¨å¢åŠ ï¼Œé–±è®€äººå£æ­£åœ¨æ¸›å°‘ã€‚å› æ­¤ï¼Œå­¸æ ¡å’Œåœ–æ›¸é¤¨æ­£åœ¨é‹ç‡Ÿå„ç¨®é¼“å‹µé–±è®€çš„è¨ˆåŠƒã€‚",
        question: "ê¸€ì˜ ë‚´ìš©ê³¼ ë§ëŠ” ê²ƒì„ ê³ ë¥´ì„¸ìš”.",
        questionZh: "é¸å‡ºèˆ‡æ–‡ç« å…§å®¹ç›¸ç¬¦çš„é¸é …ã€‚",
        options: ["ë…ì„œëŠ” ì •ë³´ íšë“ì—ë§Œ ë„ì›€ì´ ëœë‹¤.","ìŠ¤ë§ˆíŠ¸í°ìœ¼ë¡œ ë…ì„œ ì¸êµ¬ê°€ ëŠ˜ì—ˆë‹¤.","í•™êµëŠ” ë…ì„œ í”„ë¡œê·¸ë¨ì„ ìš´ì˜í•œë‹¤.","ë„ì„œê´€ì€ ìŠ¤ë§ˆíŠ¸í° ì‚¬ìš©ì„ ê¶Œì¥í•œë‹¤."],
        optionsZh: ["é–±è®€åªå°ç²å–ä¿¡æ¯æœ‰å¹«åŠ©ã€‚","å› ç‚ºæ™ºèƒ½æ‰‹æ©Ÿï¼Œé–±è®€äººå£å¢åŠ äº†ã€‚","å­¸æ ¡é‹ç‡Ÿé–±è®€è¨ˆåŠƒã€‚","åœ–æ›¸é¤¨é¼“å‹µä½¿ç”¨æ™ºèƒ½æ‰‹æ©Ÿã€‚"],
        answer: 2,
        explanation: "æœ€å¾Œä¸€å¥ï¼ší•™êµì™€ ë„ì„œê´€ì—ì„œëŠ” ë…ì„œ ì¥ë ¤ í”„ë¡œê·¸ë¨ì„ ìš´ì˜í•˜ê³  ìˆë‹¤ â†’ ç­”æ¡ˆæ˜¯ â‘¢ã€‚"
      }
    ],
    3: [
      {
        passage: "ì¸ê³µì§€ëŠ¥ì˜ ë°œì „ì€ ìš°ë¦¬ ì‚¬íšŒì— í° ë³€í™”ë¥¼ ê°€ì ¸ì˜¤ê³  ìˆë‹¤. ì˜ë£Œ ë¶„ì•¼ì—ì„œëŠ” AIë¥¼ í™œìš©í•œ ì •ë°€ ì§„ë‹¨ì´ ê°€ëŠ¥í•´ì¡Œê³ , êµìœ¡ ë¶„ì•¼ì—ì„œëŠ” ê°œì¸ ë§ì¶¤í˜• í•™ìŠµì´ ì‹¤í˜„ë˜ê³  ìˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ëŸ¬í•œ ê¸°ìˆ  ë°œì „ì´ ê°€ì ¸ì˜¤ëŠ” ì¼ìë¦¬ ê°ì†Œì™€ í”„ë¼ì´ë²„ì‹œ ì¹¨í•´ ë¬¸ì œ ë˜í•œ ì‹¬ê°í•˜ê²Œ ë…¼ì˜ë˜ì–´ì•¼ í•œë‹¤.",
        passageZh: "äººå·¥æ™ºèƒ½çš„ç™¼å±•æ­£ç‚ºæˆ‘å€‘çš„ç¤¾æœƒå¸¶ä¾†å·¨å¤§è®ŠåŒ–ã€‚åœ¨é†«ç™‚é ˜åŸŸï¼Œåˆ©ç”¨AIçš„ç²¾å¯†è¨ºæ–·æˆç‚ºå¯èƒ½ï¼›åœ¨æ•™è‚²é ˜åŸŸï¼Œå€‹æ€§åŒ–å­¸ç¿’æ­£åœ¨å¯¦ç¾ã€‚ä½†æ˜¯ï¼Œé€™ç¨®æŠ€è¡“ç™¼å±•å¸¶ä¾†çš„å°±æ¥­æ¸›å°‘å’Œéš±ç§ä¾µå®³å•é¡Œä¹Ÿæ‡‰è©²è¢«èªçœŸè¨è«–ã€‚",
        question: "ì´ ê¸€ì˜ ì„œìˆ  ë°©ì‹ìœ¼ë¡œ ì ì ˆí•œ ê²ƒì€?",
        questionZh: "é€™ç¯‡æ–‡ç« çš„æ•˜è¿°æ–¹å¼æ˜¯ï¼Ÿ",
        options: ["íŠ¹ì • ê¸°ìˆ ì˜ ì‚¬ìš© ë°©ë²•ì„ ë‹¨ê³„ì ìœ¼ë¡œ ì„¤ëª…í•˜ê³  ìˆë‹¤.","AIì˜ ê¸ì •ì ì¸ ì¸¡ë©´ê³¼ ë¶€ì •ì ì¸ ì¸¡ë©´ì„ ê· í˜• ìˆê²Œ ì œì‹œí•˜ê³  ìˆë‹¤.","AI ê¸°ìˆ ì„ ë¹„íŒì ìœ¼ë¡œë§Œ ì„œìˆ í•˜ê³  ìˆë‹¤.","ê³¼ê±°ì™€ í˜„ì¬ë¥¼ ë¹„êµí•˜ì—¬ ë¯¸ë˜ë¥¼ ì˜ˆì¸¡í•˜ê³  ìˆë‹¤."],
        optionsZh: ["é€æ­¥èªªæ˜ç‰¹å®šæŠ€è¡“çš„ä½¿ç”¨æ–¹æ³•ã€‚","å‡è¡¡åœ°å‘ˆç¾AIçš„æ­£é¢å’Œè² é¢ã€‚","åªæ‰¹åˆ¤æ€§åœ°æ•˜è¿°AIæŠ€è¡“ã€‚","é€šéæ¯”è¼ƒéå»å’Œç¾åœ¨ä¾†é æ¸¬æœªä¾†ã€‚"],
        answer: 1,
        explanation: "æ–‡ç« å…ˆä»‹ç´¹AIåœ¨é†«ç™‚ã€æ•™è‚²çš„æ­£é¢å½±éŸ¿ï¼ˆê¸ì •ì ï¼‰ï¼Œå†æå‡ºå°±æ¥­å•é¡Œå’Œéš±ç§ä¾µå®³ï¼ˆë¶€ì •ì ï¼‰ï¼Œå±¬æ–¼å‡è¡¡å‘ˆç¾çš„æ•˜è¿°æ–¹å¼ã€‚"
      }
    ]
  },
  fill: {
    1: [
      {
        question: "ë¹ˆì¹¸ì— ì•Œë§ì€ ë‹¨ì–´ë¥¼ í•œêµ­ì–´ë¡œ ì“°ì„¸ìš”.\nì €ëŠ” ë§¤ì¼ ì•„ì¹¨ ______ì„/ë¥¼ ë§ˆì…”ìš”. (ç‰›å¥¶)",
        questionZh: "è«‹ç”¨éŸ“æ–‡å¡«å…¥ç©ºæ ¼ã€‚\næˆ‘æ¯å¤©æ—©ä¸Šå–______ã€‚ï¼ˆç‰›å¥¶ï¼‰",
        hint: "íŒíŠ¸: ã…‡ìœ¼ë¡œ ì‹œì‘í•´ìš”. ë°œìŒì€ 'uyu'",
        answer: "ìš°ìœ ",
        answers: ["ìš°ìœ "],
        explanation: "ìš°ìœ  = ç‰›å¥¶ï¼ˆmilkï¼‰ã€‚ç™¼éŸ³ï¼šu-yuã€‚å¸¸è¦‹çµ„åˆï¼šìš°ìœ ë¥¼ ë§ˆì‹œë‹¤ = å–ç‰›å¥¶ã€‚"
      },
      {
        question: "ë¹ˆì¹¸ì„ ì±„ìš°ì„¸ìš”.\nì €ëŠ” í•œêµ­ì–´ë¥¼ _____ ì‹¶ì–´ìš”. (æƒ³å­¸)",
        questionZh: "å¡«å…¥ç©ºæ ¼ã€‚\næˆ‘æƒ³å­¸éŸ“èªã€‚",
        hint: "íŒíŠ¸: ë™ì‚¬ + ê³  ì‹¶ë‹¤ í˜•íƒœ",
        answer: "ë°°ìš°ê³ ",
        answers: ["ë°°ìš°ê³ "],
        explanation: "ë°°ìš°ë‹¤ï¼ˆå­¸ï¼‰â†’ ë°°ìš°ê³  ì‹¶ë‹¤ï¼ˆæƒ³å­¸ï¼‰ã€‚å‹•è©èªå¹¹ + ê³  ì‹¶ë‹¤ = æƒ³åšâ€¦ã€‚"
      },
      {
        question: "ë¹ˆì¹¸ì„ ì±„ìš°ì„¸ìš”.\në„ì„œê´€ì€ í•™êµ _____ì— ìˆì–´ìš”. (æ—é‚Š)",
        questionZh: "å¡«å…¥ç©ºæ ¼ã€‚\nåœ–æ›¸é¤¨åœ¨å­¸æ ¡______ã€‚ï¼ˆæ—é‚Šï¼‰",
        hint: "ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ëª…ì‚¬ì˜ˆìš”",
        answer: "ì˜†",
        answers: ["ì˜†"],
        explanation: "ì˜† = æ—é‚Šã€‚å¸¸è¦‹ä½ç½®è©ï¼šìœ„(ä¸Š)ã€ì•„ë˜(ä¸‹)ã€ì•(å‰)ã€ë’¤(å¾Œ)ã€ì˜†(æ—é‚Š)ã€ì•ˆ(è£¡é¢)ã€ë°–(å¤–é¢)ã€‚"
      }
    ],
    2: [
      {
        question: "ì•Œë§ì€ ë§ì„ ë„£ìœ¼ì„¸ìš”.\nê·¸ ì‚¬ëŒì€ ì˜ì‚¬ _____ ì‚¬ì‹¤ì„ ëª°ëì–´ìš”. (å±…ç„¶æ˜¯é†«ç”Ÿï¼Œè®“æ­¥/æ„å¤–)",
        questionZh: "å¡«å…¥é©ç•¶çš„è©ã€‚\nä¸çŸ¥é“é‚£å€‹äººå±…ç„¶æ˜¯é†«ç”Ÿã€‚",
        hint: "ì´ë‹¤ + ?? = ì¸ë°ë„/ì„ì—ë„",
        answer: "ì¸ë°ë„",
        answers: ["ì¸ë°ë„", "ì„ì—ë„"],
        explanation: "N + ì¸ë°ë„ = é›–ç„¶æ˜¯â€¦ã€å±…ç„¶æ˜¯â€¦ï¼ˆè¡¨ç¤ºæ„å¤–ã€è®“æ­¥ï¼‰ã€‚ä»–æ˜¯é†«ç”Ÿé€™ä»¶äº‹è®“èªªè©±è€…æ„Ÿåˆ°æ„å¤–ã€‚"
      },
      {
        question: "ë¹ˆì¹¸ì„ ì±„ì›Œ ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ì¥ì„ ì™„ì„±í•˜ì„¸ìš”.\nì´ ì¼ì„ ë¹¨ë¦¬ ë______ ì§‘ì— ê°ˆ ìˆ˜ ìˆì–´ìš”.",
        questionZh: "å®Œæˆè‡ªç„¶çš„å¥å­ã€‚\né€™ä»¶äº‹å¿«é»å®Œæˆ______å°±å¯ä»¥å›å®¶ã€‚",
        hint: "V + ì•¼ (ì¡°ê±´ = æ‰èƒ½)",
        answer: "ë‚´ì•¼",
        answers: ["ë‚´ì•¼"],
        explanation: "ëë‚´ë‹¤(å®Œæˆ) â†’ ëë‚´ì•¼ = æ‰èƒ½å®Œæˆã€‚V + ì•„ì•¼/ì–´ì•¼ = å¿…é ˆåšâ€¦æ‰èƒ½â€¦ï¼ˆæ¢ä»¶ï¼‰ã€‚"
      }
    ],
    3: [
      {
        question: "ë¬¸ë§¥ì— ë§ê²Œ ë¹ˆì¹¸ì„ ì±„ìš°ì„¸ìš”.\nê·¸ëŠ” ì–´ë ¤ìš´ ìƒí™©ì—ì„œë„ í¬ê¸°í•˜ì§€ ì•Šê³  ëê¹Œì§€ ______í–ˆë‹¤. (å …æŒ/è²«å¾¹åˆ°åº•)",
        questionZh: "æ ¹æ“šæ–‡è„ˆå¡«å…¥ç©ºæ ¼ã€‚\nä»–å³ä½¿åœ¨å›°é›£çš„æƒ…æ³ä¸‹ä¹Ÿæ²’æœ‰æ”¾æ£„ï¼Œå …æŒåˆ°åº•______ã€‚",
        hint: "ì‚¬ìì„±ì–´ë‚˜ ê³ ê¸‰ ë‹¨ì–´ (4ì)",
        answer: "ë…¸ë ¥",
        answers: ["ë…¸ë ¥", "ê´€ì² ", "ì¸ë‚´"],
        explanation: "å¯å¡«å…¥ï¼šë…¸ë ¥(åŠªåŠ›)ã€ì¸ë‚´(å¿è€)ã€ê´€ì² (è²«å¾¹)ã€‚æ­¤å¥å¼·èª¿ã€Œä¸æ”¾æ£„åœ°å …æŒã€çš„å«ç¾©ã€‚"
      }
    ]
  }
};

// ================================================================
// APP STATE
// ================================================================
let questionCount = 10;
let selectedLevels = [1, 2, 3];
let selectedTypes = ["vocab", "grammar", "reading", "fill"];
let currentQuestions = [];
let currentIndex = 0;
let score = 0;
let answered = false;

// ================================================================
// SETUP
// ================================================================
function changeCount(delta) {
  questionCount = Math.max(5, Math.min(30, questionCount + delta));
  document.getElementById('count-display').textContent = questionCount;
}

function getSelectedLevels() {
  return [...document.querySelectorAll('input[name="level"]:checked')].map(el => parseInt(el.value));
}

function getSelectedTypes() {
  return [...document.querySelectorAll('input[name="type"]:checked')].map(el => el.value);
}

function buildQuestionPool(levels, types) {
  let pool = [];
  types.forEach(type => {
    levels.forEach(level => {
      const qs = QUESTIONS[type]?.[level];
      if (qs) {
        qs.forEach(q => pool.push({ ...q, _type: type, _level: level }));
      }
    });
  });
  return pool;
}

function shuffle(arr) {
  const a = [...arr];
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

function startQuiz() {
  selectedLevels = getSelectedLevels();
  selectedTypes = getSelectedTypes();

  if (!selectedLevels.length || !selectedTypes.length) {
    alert('è«‹è‡³å°‘é¸æ“‡ä¸€å€‹ç´šåˆ¥å’Œä¸€å€‹é¡Œå‹ï¼\nPlease select at least one level and one type!');
    return;
  }

  let pool = buildQuestionPool(selectedLevels, selectedTypes);
  if (!pool.length) {
    alert('æ‰€é¸çµ„åˆæ²’æœ‰é¡Œç›®ï¼Œè«‹èª¿æ•´é¸é …ï¼');
    return;
  }

  pool = shuffle(pool);
  currentQuestions = pool.slice(0, questionCount);
  currentIndex = 0;
  score = 0;
  answered = false;

  document.getElementById('setup-panel').style.display = 'none';
  document.getElementById('quiz-panel').style.display = 'block';
  document.getElementById('result-panel').style.display = 'none';

  renderQuestion();
}

// ================================================================
// QUIZ
// ================================================================
function typeLabel(t) {
  const map = { vocab: 'è©å½™ Vocab', grammar: 'æ–‡æ³• Grammar', reading: 'é–±è®€ Reading', fill: 'å¡«ç©º Fill' };
  return map[t] || t;
}

function levelLabel(l) {
  const map = { 1: 'TOPIK I (1-2)', 2: 'TOPIK II (3-4)', 3: 'TOPIK II (5-6)' };
  return map[l] || l;
}

function renderQuestion() {
  const q = currentQuestions[currentIndex];
  answered = false;

  // Update progress
  const pct = (currentIndex / currentQuestions.length) * 100;
  document.getElementById('progress-bar').style.width = pct + '%';
  document.getElementById('q-counter').innerHTML = `${currentIndex + 1} <span>/ ${currentQuestions.length}</span>`;
  document.getElementById('score-display').textContent = score;

  // Hide explanation & next
  document.getElementById('explanation').classList.remove('show');
  document.getElementById('explanation').innerHTML = '';
  document.getElementById('next-btn').classList.remove('show');

  let html = '';

  // Meta tags
  html += `<div class="q-meta">
    <span class="q-tag tag-level">${levelLabel(q._level)}</span>
    <span class="q-tag tag-type">${typeLabel(q._type)}</span>
  </div>`;

  // Reading passage
  if (q.passage) {
    html += `<div class="reading-passage">
      <span class="korean-text">${q.passage}</span>
    </div>`;
  }

  // Question text
  const qLines = q.question.split('\n');
  html += `<div class="q-text">`;
  qLines.forEach((line) => {
    html += `<div class="korean">${line}</div>`;
  });
  html += `</div>`;

  if (q.hint) {
    html += `<div class="q-hint">ğŸ’¡ ${q.hint}</div>`;
  }

  // Options or fill
  if (q._type === 'fill') {
    html += `<input type="text" class="fill-input" id="fill-input" placeholder="í•œêµ­ì–´ë¡œ ì…ë ¥í•˜ì„¸ìš” / Enter in Korean" onkeypress="fillKeyPress(event)">`;
    html += `<button class="submit-fill-btn" onclick="checkFill()">ç¢ºèª Submit</button>`;
  } else {
    html += `<div class="options">`;
    q.options.forEach((opt, i) => {
    html += `<button class="option-btn" id="opt-${i}" onclick="checkAnswer(${i})">
        <div class="option-num">${i + 1}</div>
        <div>
          <div class="korean-text">${opt}</div>
        </div>
      </button>`;
    });
    html += `</div>`;
  }

  document.getElementById('question-card').innerHTML = html;
}

function checkAnswer(idx) {
  if (answered) return;
  answered = true;

  const q = currentQuestions[currentIndex];
  const isCorrect = idx === q.answer;

  if (isCorrect) score++;

  // Style buttons
  q.options.forEach((_, i) => {
    const btn = document.getElementById(`opt-${i}`);
    btn.disabled = true;
    if (i === q.answer) btn.classList.add('correct');
    else if (i === idx && !isCorrect) btn.classList.add('wrong');
  });

  showExplanation(q, isCorrect ? 'âœ… æ­£ç¢ºï¼Correctï¼' : 'âŒ éŒ¯èª¤ Wrong');
}

function checkFill() {
  if (answered) return;
  const q = currentQuestions[currentIndex];
  const input = document.getElementById('fill-input');
  const userAnswer = input.value.trim();
  if (!userAnswer) return;

  answered = true;
  const isCorrect = q.answers.some(a => a === userAnswer);

  if (isCorrect) {
    score++;
    input.classList.add('correct');
  } else {
    input.classList.add('wrong');
  }
  input.disabled = true;
  document.querySelector('.submit-fill-btn').disabled = true;

  const correctAnswerStr = q.answers.join(' / ');
  showExplanation(q, isCorrect ? 'âœ… æ­£ç¢ºï¼Correctï¼' : `âŒ éŒ¯èª¤ Wrongï½œæ­£ç¢ºç­”æ¡ˆï¼š${correctAnswerStr}`);
}

function fillKeyPress(e) {
  if (e.key === 'Enter') checkFill();
}

function showExplanation(q, result) {
  const exp = document.getElementById('explanation');
  exp.innerHTML = `
    <div class="exp-title">è§£æ / Explanation</div>
    <div style="margin-bottom:8px;font-size:15px;font-weight:bold;">${result}</div>
    <div style="line-height:1.8;">${q.explanation}</div>
  `;
  exp.classList.add('show');
  document.getElementById('next-btn').classList.add('show');

  document.getElementById('score-display').textContent = score;
}

function nextQuestion() {
  currentIndex++;
  if (currentIndex >= currentQuestions.length) {
    showResult();
  } else {
    renderQuestion();
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
}

// ================================================================
// RESULT
// ================================================================
function showResult() {
  document.getElementById('quiz-panel').style.display = 'none';
  document.getElementById('result-panel').style.display = 'block';

  const total = currentQuestions.length;
  const pct = Math.round((score / total) * 100);
  const wrong = total - score;

  document.getElementById('result-score').textContent = `${score} / ${total}`;
  document.getElementById('result-pct').textContent = pct + '%';
  document.getElementById('stat-correct').textContent = score;
  document.getElementById('stat-wrong').textContent = wrong;
  document.getElementById('stat-total').textContent = total;

  let emoji, msg;
  if (pct >= 90) { emoji = 'ğŸ†'; msg = 'å‡ºè‰²ï¼æ¼¢éŸ“é«˜æ‰‹ï¼/ Outstanding! You are a Korean master!'; }
  else if (pct >= 70) { emoji = 'ğŸ‰'; msg = 'å¾ˆå¥½ï¼ç¹¼çºŒåŠ æ²¹ï¼/ Great job! Keep it up!'; }
  else if (pct >= 50) { emoji = 'ğŸ“š'; msg = 'å°šå¯ï¼å¤šå¤šç·´ç¿’ï¼/ Not bad! Keep practicing!'; }
  else { emoji = 'ğŸ’ª'; msg = 'ç¹¼çºŒåŠªåŠ›ï¼ä¸‹æ¬¡ä¸€å®šæ›´å¥½ï¼/ Keep going! You\'ll do better next time!'; }

  document.getElementById('result-emoji').textContent = emoji;
  document.getElementById('result-message').textContent = msg;
  document.getElementById('progress-bar').style.width = '100%';
}

function restart() {
  document.getElementById('result-panel').style.display = 'none';
  document.getElementById('setup-panel').style.display = 'block';
  document.getElementById('progress-bar').style.width = '0%';
}
</script>
</body>
</html>
